from pytube import YouTube

def download_youtube_video(link):
    try:
        yt = YouTube(link)
        # Select the highest resolution video available
        video = yt.streams.get_highest_resolution()
        # Download the video
        video.download()
        print("Video downloaded successfully!")
    except KeyError:
        print("Could not retrieve the 'streamingData' field. Please try again later.")
    except Exception as e:
        print("Error: ", e)

# Example usage


download_youtube_video("https://www.youtube.com/watch?v=LHiUvGYSHrg&t=252s")
